<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Start Crawling!</title>
<!-- link rel="stylesheet" type="text/css" th:href="@{/css/registration.css}" /-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="icon" type="image/x-icon" th:href="@{favicon.ico}"/>
</head>
<body style="background-color: #ededed;">
	<div style="background-color: #337ab7; height: 50px;"></div>
	<div class="container-fluid" style="margin-top: 30px;">

		<div class="row col-lg-4 col-lg-offset-4" style="margin-top: 40px; background-color: #fff; padding: 20px; border: solid 1px #ddd;">
			<div>
				<h3 class="form-signin-heading">Start Crawling</h3>
				<div class="form-group">
					<div class="">
						<input type="text" id="url1" placeholder="First URL" class="form-control" />
					</div>
				</div>
				<div class="form-group">
					<div class="">
						<input type="text" id="url2" placeholder="Second URL" class="form-control" />
					</div>
				</div>
				
				<div class="form-group">
					<div class="">
						<button type="button" th:onclick="sendData()" class="btn btn-primary btn-block">Start</button>
					</div>
				</div>  
			<div/>
		</div> 
	</div>
	<div id="result"></div>
 
</body>

<script th:inline="javascript">

function sendData() {
	
	var url1 = $("#url1").val();	
	var url2 = $("#url2").val();		
	var param = {url1, url2};   

	$.ajax({	
		type:'POST',		
		data: JSON.stringify(param),		
		url: `http://${SERVER}:9000/api/process/crawl`,		
		contentType: "application/json; charset=UTF-8",	
		dataType:'json'	
	}).done(function (data) {
		document.getElementById("url1").value="";
		document.getElementById("url2").value="";
		$('#result').text(data);
	});
}

</script>

</html>